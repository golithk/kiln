# =============================================================================
# Kiln Configuration
# =============================================================================
# This file uses KEY=value format. Lines starting with # are comments.
# See https://github.com/agentic-metallurgy/kiln for documentation.

# =============================================================================
# CRITICAL Settings
# =============================================================================
# These settings control who can trigger workflows. Review carefully.

# Allowed GitHub username
# SECURITY: Only this user can trigger workflows by moving cards
ALLOWED_USERNAME=

# =============================================================================
# Required Settings
# =============================================================================

# GitHub project board URLs to monitor (comma-separated)
# Example: https://github.com/orgs/your-org/projects/1 (views are optional)
PROJECT_URLS=

# =============================================================================
# GitHub Authentication
# =============================================================================

# GitHub personal access token (optional)
# If not set, kiln uses credentials from `gh auth login`
# GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# =============================================================================
# GitHub Enterprise Server
# =============================================================================
# Configure these settings to use GitHub Enterprise Server instead of github.com.
#
# IMPORTANT: Kiln operates against EITHER github.com OR GitHub Enterprise Server,
# not both simultaneously. Setting both GITHUB_TOKEN and GITHUB_ENTERPRISE_TOKEN
# will result in a configuration error.

# GitHub Enterprise Server hostname (without protocol)
# Example: github.mycompany.com
# GITHUB_ENTERPRISE_HOST=

# GitHub Enterprise Server personal access token
# Requires a classic PAT with repo and project scopes (same as github.com)
# NOTE: This token is only used when GITHUB_ENTERPRISE_HOST is also set
# GITHUB_ENTERPRISE_TOKEN=

# GitHub Enterprise Server version (e.g., "3.14")
# Required for GHES installations to select the correct API client.
# Different GHES versions have different API capabilities - Kiln uses
# version-specific clients to handle these differences.
# Supported versions: 3.14, 3.15
# NOTE: Only set this when using GitHub Enterprise Server.
# GITHUB_ENTERPRISE_VERSION=3.14

# =============================================================================
# Optional Settings
# =============================================================================

# Polling interval in seconds (default: 30)
# POLL_INTERVAL=30

# Maximum concurrent workflows (default: 3)
# MAX_CONCURRENT_WORKFLOWS=3

# Project board statuses to watch (comma-separated)
# Default: Research,Plan,Implement
# WATCHED_STATUSES=Research,Plan,Implement

# Log level: DEBUG, INFO, WARNING, ERROR (default: INFO)
# LOG_LEVEL=INFO

# Claude model overrides per workflow stage (JSON format)
# Default: {"Prepare": "haiku", "Research": "opus", "Plan": "opus", "Implement": "opus"}
# STAGE_MODELS={"Prepare": "haiku", "Research": "sonnet", "Plan": "opus", "Implement": "sonnet"}

# =============================================================================
# Safety Settings
# =============================================================================

# Maximum number of TASKs allowed to be appended during an active implementation run.
# Set to 0 for infinite (no limit). Recommended: 5 for production environments.
# Prevents runaway loops if implementation/user keeps adding new TASKs during execution.
# SAFETY_ALLOW_APPENDED_TASKS=0

# =============================================================================
# Telemetry
# =============================================================================

# OpenTelemetry endpoint for metrics (HTTP OTLP, port 4318)
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Service name for telemetry (default: kiln)
# OTEL_SERVICE_NAME=kiln

# Enable Claude Code telemetry (0 or 1, default: 0)
# CLAUDE_CODE_ENABLE_TELEMETRY=0
